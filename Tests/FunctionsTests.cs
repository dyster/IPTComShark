using Xunit;

namespace BitDataParser.Tests
{   
    public class FunctionsTests
    {
        [Theory]
        [InlineData("0000000000011111111000000000000000000000", 12, 1, new byte[] { 0xFF })]
        [InlineData("0000000000011111111111111110000000000000", 12, 2, new byte[] { 0xFF, 0xFF })]
        [InlineData("111111110000000000011111111111111110000000000000", 1, 2, new byte[] { 0xFF, 0x00 })]
        [InlineData("0000000100000000000000000000000000000000", 1, 1, new byte[] { 0x01 })]
        [InlineData("0000000100000000000000000000000000000000", 8, 1, new byte[] { 0x80 })]
        [InlineData("000000010000000000010000010000111001110000000000110110111011110011100111000000000011011011101111010000000000000000000000", 30, 9, new byte[] { 115, 0x80, 0x1B, 0x77, 0x9C, 0xE0, 0x06, 0xDD, 0xE8 })]
        public void SubArrayGetterXTest(string input, int startbit, int numbytes, byte[] expected)
        {
            var bytes = StringToBytes(input);
            var subArrayGetter = Functions.SubArrayGetterX(bytes, startbit, numbytes * 8);
            Assert.Equal(expected, subArrayGetter);

        }

        [Theory]
        [InlineData(666)]
        [InlineData(1)]
        [InlineData(5000)]
        public void SubArrayGetterXBench(int seed)
        {
            var rand = new Random(seed);
            var data = new byte[5000];
            for (int i = 0; i < 20000; i++)
            {
                rand.NextBytes(data);
                var startbit = rand.Next(1, data.Length * 8);
                var length = rand.Next(1, data.Length * 8 - startbit);
                var something = Functions.SubArrayGetterX(data, startbit, length);
            }

        }

        private byte[] StringToBytes(string input)
        {
            if (input.Length % 8 != 0)
                throw new Exception("Test ERROR, Input string must be divisable by 8");

            int numOfBytes = input.Length / 8;
            byte[] bytes = new byte[numOfBytes];
            for (int i = 0; i < numOfBytes; ++i)
            {
                bytes[i] = Convert.ToByte(input.Substring(8 * i, 8), 2);
            }

            return bytes;
        }

        public static IEnumerable<object[]> Data =>
            new List<object[]>
            {
                new object[] {"1111111111111111111111111111111111111111", 1, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 1, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 1, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 1, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 1, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 1, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 1, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 1, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 1, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 1, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 1, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 1, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 1, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 1, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 1, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 1, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 2, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 2, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 2, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 2, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 2, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 2, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 2, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 2, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 2, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 2, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 2, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 2, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 2, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 2, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 2, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 2, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 3, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 3, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 3, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 3, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 3, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 3, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 3, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 3, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 3, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 3, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 3, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 3, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 3, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 3, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 3, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 3, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 4, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 4, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 4, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 4, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 4, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 4, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 4, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 4, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 4, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 4, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 4, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 4, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 4, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 4, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 4, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 4, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 5, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 5, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 5, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 5, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 5, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 5, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 5, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 5, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 5, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 5, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 5, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 5, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 5, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 5, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 5, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 5, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 6, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 6, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 6, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 6, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 6, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 6, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 6, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 6, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 6, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 6, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 6, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 6, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 6, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 6, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 6, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 6, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 7, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 7, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 7, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 7, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 7, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 7, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 7, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 7, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 7, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 7, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 7, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 7, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 7, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 7, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 7, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 7, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 8, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 8, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 8, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 8, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 8, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 8, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 8, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 8, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 8, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 8, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 8, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 8, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 8, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 8, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 8, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 8, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 9, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 9, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 9, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 9, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 9, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 9, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 9, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 9, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 9, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 9, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 9, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 9, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 9, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 9, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 9, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 9, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 10, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 10, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 10, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 10, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 10, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 10, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 10, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 10, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 10, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 10, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 10, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 10, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 10, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 10, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 10, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 10, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 11, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 11, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 11, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 11, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 11, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 11, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 11, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 11, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 11, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 11, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 11, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 11, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 11, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 11, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 11, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 11, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 12, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 12, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 12, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 12, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 12, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 12, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 12, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 12, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 12, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 12, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 12, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 12, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 12, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 12, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 12, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 12, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 13, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 13, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 13, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 13, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 13, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 13, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 13, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 13, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 13, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 13, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 13, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 13, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 13, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 13, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 13, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 13, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 14, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 14, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 14, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 14, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 14, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 14, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 14, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 14, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 14, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 14, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 14, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 14, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 14, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 14, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 14, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 14, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 15, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 15, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 15, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 15, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 15, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 15, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 15, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 15, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 15, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 15, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 15, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 15, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 15, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 15, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 15, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 15, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 16, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 16, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 16, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 16, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 16, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 16, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 16, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 16, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 16, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 16, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 16, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 16, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 16, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 16, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 16, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 16, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 17, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 17, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 17, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 17, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 17, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 17, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 17, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 17, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 17, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 17, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 17, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 17, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 17, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 17, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 17, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 17, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 18, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 18, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 18, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 18, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 18, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 18, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 18, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 18, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 18, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 18, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 18, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 18, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 18, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 18, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 18, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 18, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 19, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 19, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 19, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 19, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 19, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 19, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 19, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 19, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 19, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 19, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 19, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 19, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 19, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 19, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 19, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 19, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 20, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 20, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 20, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 20, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 20, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 20, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 20, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 20, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 20, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 20, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 20, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 20, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 20, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 20, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 20, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 20, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 21, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 21, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 21, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 21, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 21, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 21, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 21, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 21, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 21, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 21, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 21, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 21, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 21, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 21, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 21, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 21, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 22, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 22, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 22, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 22, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 22, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 22, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 22, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 22, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 22, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 22, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 22, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 22, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 22, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 22, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 22, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 22, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 23, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 23, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 23, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 23, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 23, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 23, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 23, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 23, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 23, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 23, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 23, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 23, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 23, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 23, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 23, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 23, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 24, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 24, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 24, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 24, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 24, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 24, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 24, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 24, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 24, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 24, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 24, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 24, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 24, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 24, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 24, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 24, 16, 65535},
                new object[] {"1111111111111111111111111111111111111111", 25, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 25, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 25, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 25, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 25, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 25, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 25, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 25, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 25, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 25, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 25, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 25, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 25, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 25, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 25, 15, 32767},
                new object[] {"1111111111111111111111111111111111111111", 26, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 26, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 26, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 26, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 26, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 26, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 26, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 26, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 26, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 26, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 26, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 26, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 26, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 26, 14, 16383},
                new object[] {"1111111111111111111111111111111111111111", 27, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 27, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 27, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 27, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 27, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 27, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 27, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 27, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 27, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 27, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 27, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 27, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 27, 13, 8191},
                new object[] {"1111111111111111111111111111111111111111", 28, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 28, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 28, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 28, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 28, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 28, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 28, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 28, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 28, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 28, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 28, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 28, 12, 4095},
                new object[] {"1111111111111111111111111111111111111111", 29, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 29, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 29, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 29, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 29, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 29, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 29, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 29, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 29, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 29, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 29, 11, 2047},
                new object[] {"1111111111111111111111111111111111111111", 30, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 30, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 30, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 30, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 30, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 30, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 30, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 30, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 30, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 30, 10, 1023},
                new object[] {"1111111111111111111111111111111111111111", 31, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 31, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 31, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 31, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 31, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 31, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 31, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 31, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 31, 9, 511},
                new object[] {"1111111111111111111111111111111111111111", 32, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 32, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 32, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 32, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 32, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 32, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 32, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 32, 8, 255},
                new object[] {"1111111111111111111111111111111111111111", 33, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 33, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 33, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 33, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 33, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 33, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 33, 7, 127},
                new object[] {"1111111111111111111111111111111111111111", 34, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 34, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 34, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 34, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 34, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 34, 6, 63},
                new object[] {"1111111111111111111111111111111111111111", 35, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 35, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 35, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 35, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 35, 5, 31},
                new object[] {"1111111111111111111111111111111111111111", 36, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 36, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 36, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 36, 4, 15},
                new object[] {"1111111111111111111111111111111111111111", 37, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 37, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 37, 3, 7},
                new object[] {"1111111111111111111111111111111111111111", 38, 1, 1},
                new object[] {"1111111111111111111111111111111111111111", 38, 2, 3},
                new object[] {"1111111111111111111111111111111111111111", 39, 1, 1},
            };
    }
}